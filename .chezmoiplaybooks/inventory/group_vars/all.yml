---
# Target user configuration (uses current user running ansible)
target_user: "{{ ansible_facts['user_id'] }}"
target_group: "{{ 'staff' if ansible_facts['os_family'] == 'Darwin' else ansible_facts['user_id'] }}"
target_home: "{{ ansible_facts['env']['HOME'] }}"

# Directory structure
user_directories:
  - "{{ target_home }}/.local/bin"
  - "{{ target_home }}/.local/share"
  - "{{ target_home }}/.local/etc"
  - "{{ target_home }}/.local/src"
  - "{{ target_home }}/Workspace/Projects"

# Feature flags (all enabled by default, can be overridden via extra-vars)
install_docker: true
install_nix: true
install_devbox: true
install_mise: true
install_homebrew: true

# Essential packages (installed on all systems)
essential_packages:
  common:
    - curl
    - wget
    - git
    - zsh
    - unzip
    - tar
  debian:
    - build-essential
    - libssl-dev
    - libffi-dev
    - python3
    - python3-pip
    - ca-certificates
    - gnupg
    - lsb-release
    - apt-transport-https
  fedora:
    - gcc
    - gcc-c++
    - make
    - openssl-devel
    - libffi-devel
    - python3
    - python3-pip
    - ca-certificates
    - gnupg2
  arch:
    - base-devel
    - openssl
    - python
    - python-pip
  alpine:
    - build-base
    - openssl-dev
    - libffi-dev
    - python3
    - py3-pip
    - shadow
  darwin:
    # Most tools come from Xcode CLI tools or Homebrew
    []
